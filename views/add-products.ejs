<!DOCTYPE html>
<html lang="en">
<head>

    <%-include ('partials/header.ejs') %>

</head>
<body>

<%-include ('partials/nav.ejs') %>
   


<div class="container  text-center">
    <h3>Add Product </h3>
    <form method="post" action="/admin/add" enctype="multipart/form-data">
        <input type="text" class="form-control input-form" name="name" placeholder="Product Name" value="<%= oldInput.name ||'' %>">
        <%const nameError =  validationError.find(err => err.path === 'name') ;%>
        <%if(nameError){%>
            <p class="alert alert-danger"> <%=  nameError.msg %></p>
        <%}%>

        <input type="text" class="form-control input-form" name="price" placeholder="Price" value="<%= oldInput.price ||'' %>">

        <%const priceError =  validationError.find(err => err.path === 'price') ;%>
        <%if(priceError){%>
            <p class="alert alert-danger"> <%= priceError.msg %></p>
        <%}%>
        <textarea placeholder="Description"  name="description" class="form-control input-form" value="<%= oldInput.password ||'' %> "></textarea>
       
        <%const descriptionError =  validationError.find(err => err.path === 'description') ;%>
        <%if(descriptionError){%>
            <p class="alert alert-danger"> <%=  descriptionError.msg %></p>
        <%}%>

        
        <select id="category" name="category" class="form-control input-form"">
            <option disabled selected>Choose a Category </option>            
            <option value="clothes">Clothes</option>            
            <option value="bags">Bags</option>
            <option value="books">Books</option>
        </select>

        <%const categoryError =  validationError.find(err => err.path === 'category') ;%>
        <%if(categoryError){%>
            <p class="alert alert-danger"> <%=  categoryError.msg %></p>
        <%}%>
        
        
        <input type="file" name="image" id=" image" class="form-control input-form">

        <%const imageError =  validationError.find(err => err.path === 'image') ;%>
        <%if(imageError){%>
            <p class="alert alert-danger"> <%=  imageError.msg %></p>
        <%}%>

        <input type="submit" class="btn btn-primary input-form" value="Add Product">

    </form>
    <br>

    <%if(adminError && adminError.length > 0){ %>
        <p class="alert alert-danger"><%= adminError %></p>
            
    <%}%>

    <%if( successMsg &&  successMsg.length > 0){ %>
        <p class="alert alert-success fade show"><%= successMsg  %></p>
            
    <%}%>

</div>
</body>


<%-include ('partials/footer.ejs') %>

</html>